#Layout for all screen
<FirstBoxLayout@BoxLayout>
  padding: 20
  spacing: 20
  orientation:'vertical'

#Title for all
<TitleLabel@Label>
  size_hint: (1, .5) 
  font_size:50
  markup:True
  bold:True
  font_name:"font02.ttf"
  color:1,0,0,1
  
#label
<Label1@Label>
  italic:True
  bold:True
  font_size: 30
#Button
<MyButton@MDFillRoundFlatButton>
  markup:True
  font_size: 30
  pos_hint:{"center_x":.5,"center_y":.5}
  md_bg_color:1,0,0,1
  
#Input Box
<MyTextInput@MDTextFieldRect>
  pos_hint:{"center_x":.5,"center_y":.5}
  mode: "round"
  halign: "center"
  markup:True
  bold:True
  multiline: False
  background_color:(.2,.2,.2,.75)
  canvas.before:
    Color:
      rgba:  1, 1, 1, .7
<NTextInput@MDTextField>:
  pos_hint: {"center_x": .5, "center_y": .5}
  halign: "center"
  markup:True
  fill_color_normal:.2,.2,.2,.75
  required: True
  mode: "fill"

#Button
<NButton@Button>
  background_color:[0,0,0,0.5]
  bold:True
  italic:True
  size_hint_y:None
  background_normal:''
  canvas.before:
    Color:
      rgba: 0,0,0,1
    RoundedRectangle:
      radius:[58,0,58,0]
      pos: self.pos
      size: self.size
# Calculator button black
<CButton@Button>
  bold:True
  background_color:(0,0,0,0)
  color:0,0,0,1
  canvas.before:
    Color:
      rgba: 1,1,1,1
    RoundedRectangle:
      radius:[58,58,58,58]
      pos: self.pos
      size: self.size   
# Calculator button white
<WButton@Button>
  bold:True
  background_color: 0,0,0,0
  color:1,1,1,1
  canvas.before:
    Color:
      rgba: [240/255,29/255,0,.8]
    RoundedRectangle:
      radius:[58,58,58,58]
      pos: self.pos
      size: self.size 
#Design start from screen
ScreenManager:
  MDScreen:
    name:"screen_app"
    id: app_screens

    AsyncImage:
      source:'1.jpg'
      allow_stretch: True
      keep_ratio: False
    BoxLayout:
      orientation: 'vertical'
      #Comment MDToolbar section to remove toolbar and still maintain full fucntionality
      MDTopAppBar:
        md_bg_color: [1,1,1,1]
        #md_bg_color: [0,0,.5,1]
        specific_text_color: [0,0,0,1]
        #specific_text_color: [1,95/255,5/255,1]
        title: "Easy Math"
        size_hint: (1, 0.09) 
        left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]  
        right_action_items: [["help", lambda x:help_screen.set_state("open")]] 
      #End MDToolbar section
      ScreenManager:
        id: sm_sub
        
        #screen
#Normal Calculator
        Screen:
          name:"normal"

          MyGridLayout:
            id: calculator1
            display1: entry1
            rows: 6
            padding: 10
            spacing: 5
          # Where input is displayed
          BoxLayout:
            orientation:'vertical'
            spacing:25
            padding:30
            TextInput:
              id: entry1
              multiline: False
              halign:"right"
              hint_text:'0'
              font_name:"font01.ttf"
              #background_color:(20/255,20/255,30/255)
              background_color:(.2,.2,.2,1)
              font_size: 100
              canvas.before:
                Color:
                  rgba:  [240/255,29/255,0,.8]
                Rectangle:
                  pos: self.pos
                  size: self.size[0], 1
            BoxLayout:
              spacing:20
              Button:
                background_color:1,1,1,0
                on_press: history1.set_state("open")
                canvas.after:
                  Color:
                    rgba:  0, 0, 0, 1
                  RoundedRectangle:
                    source:'history.png'
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 

              Button:
                text:"%"
                font_size: 70
                bold:True
                background_color:(0,0,0,0)
                color:0,0,0,1
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
                on_press: entry1.text += self.text            
              Button:
                text:"AC"
                bold:True
                italic:True
                color:[1,0,0,1]
                background_color:0,0,0,0
                font_size: 70
                on_press: entry1.text = ""
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
              WButton:
                text:"/"
                font_size: 70
                on_press: entry1.text += self.text
            BoxLayout:
              spacing:20
              CButton:
                text:"7"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"8"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"9"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"x"
                font_size: 70
                on_press: entry1.text += self.text
            BoxLayout:
              spacing:20
              CButton:
                text:"4"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"5"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"6"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"-"
                font_size: 70
                on_press: entry1.text += self.text
            BoxLayout:
              spacing:20
              CButton:
                text:"1"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"2"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"3"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"+"
                font_size: 70
                on_press: entry1.text += self.text
            BoxLayout:
              spacing:20
              CButton:
                text:"."
                font_size: 70
                on_press: entry1.text += self.text
              CButton:
                text:"0"
                font_size: 70
                on_press: entry1.text += self.text
                font_name:"font.ttf"
              Button:
                text:'del'
                color:[0,0,0,0]
                background_color:0,0,0,0
                on_press:calculator1.calculate1Back(entry1.text)
                on_press:entry1.text += self.text
                canvas.after:
                  Color:
                    rgba: 1,0,0,1
                  Rectangle:
                    source:'backspace.png'
                    pos: self.pos
                    size: self.size
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
              Button:
                text:"="
                bold:True
                color:0,0,0,1
                background_color: 0,0,0,0
                font_size: 70
                on_release:app.history1()
                on_press: calculator1.calculate1(entry1.text) 
                canvas.before:
                  Color:
                    rgba: [240/255,29/255,0,.8]
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
                

#Scientific calculator
        Screen:
          name:"scientific"

          MyGridLayout:
            id: calculator
            display: entry
            rows: 6
            padding: 10
            spacing: 5
          BoxLayout:
            orientation:'vertical'
            spacing:20
            padding:25
            TextInput:
              id: entry
              multiline: False
              halign:"right"
              hint_text:'0'
              font_name:"font01.ttf"
              background_color:(.2,.2,.2,1)
              font_size: 70
              canvas.before:
                Color:
                  rgba: [240/255,29/255,0,.8]
                Rectangle:
                  pos: self.pos
                  size: self.size[0], 1
            BoxLayout:
              spacing:10
              Button:
                on_press: history2.set_state("open")
                background_color:0,0,0,0
                
                canvas.after:
                  Color:
                    rgba: 0,0,0,1
                  RoundedRectangle:
                    source:'history.png'
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
              CButton:
                text:"("
                font_size: 50
                on_press: entry.text += self.text
              CButton:
                text:')'
                font_size: 50
                on_press:entry.text += self.text
              Button:
                text:"AC"
                bold:True
                italic:True
                color:[1,0,0,1]
                background_color:0,0,0,0
                font_size: 50
                on_press: entry.text = ""
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
              WButton:
                text:"%"
                font_size: 50
                bold:True
                on_press: entry.text += self.text
            BoxLayout:
              spacing:10
              CButton:
                text:"sin("
                color:.45,.45,.45,1
                italic:True
                font_size: 45
                on_press: entry.text += self.text
              CButton:
                text:"^"
                font_size: 50
                on_press: entry.text += self.text
              CButton:
                text:"pi"
                italic:True
                font_size: 50
                on_press: entry.text += self.text
              CButton:
                text:'e'
                italic:True
                font_size: 50
                on_press:entry.text += self.text
              WButton:
                text:"/"
                bold:True
                font_size: 50
                on_press: entry.text += self.text
            BoxLayout:
              spacing:10
              CButton:
                text:'cos('
                color:.45,.45,.45,1
                italic:True
                font_size: 45
                on_press: entry.text += self.text
              CButton:
                text:"7"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"8"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"9"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"x"
                font_size: 50
                on_press: entry.text += self.text
            BoxLayout:
              spacing:10
              CButton:
                text:'tan('
                color:.45,.45,.45,1
                italic:True
                font_size: 45
                on_press: entry.text += self.text
              CButton:
                text:"4"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"5"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"6"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"-"
                font_size: 50
                on_press: entry.text += self.text
            BoxLayout:
              spacing:10
              CButton:
                text:"sqrt("
                color:.45,.45,.45,1
                italic:True
                font_size: 45
                on_press: entry.text += self.text
              CButton:
                text:"1"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"2"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              CButton:
                text:"3"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              WButton:
                text:"+"
                font_size: 50
                on_press: entry.text += self.text
            BoxLayout:
              spacing:10
              CButton:
                text:'log('
                color:.45,.45,.45,1
                italic:True
                font_size: 45
                on_press: entry.text += self.text
              CButton:
                text:"."
                font_size: 50
                on_press: entry.text += self.text
              CButton:
                text:"0"
                font_size: 50
                on_press: entry.text += self.text
                font_name:"font.ttf"
              Button:
                text:'<<'
                color:[0,0,0,0]
                background_color:1,1,1,0
                on_press:calculator.calculate2Back(entry.text)
                on_press:entry.text += self.text
                canvas.after:
                  Color:
                    rgba: 1,0,0,1
                  Rectangle:
                    source:'backspace.png'
                    pos: self.pos
                    size: self.size
                canvas.before:
                  Color:
                    rgba: 1,1,1,1
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
              Button:
                text:"="
                bold:True
                background_color: 0,0,0,0
                font_size: 50
                color:0,0,0,1
                on_release:app.history2()
                on_press: calculator.calculate(entry.text) 
                canvas.before:
                  Color:
                    rgba: [240/255,29/255,0,.8]
                  RoundedRectangle:
                    radius:[58,58,58,58]
                    pos: self.pos
                    size: self.size 
                
#Navigation bar       
    MDNavigationDrawer:
      radius: (0, 16, 16, 0)
      id: nav_drawer
      ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        BoxLayout:
          orientation:'vertical'
          size_hint_y: None
          height: self.minimum_height
          spacing:5

          Label:
            text:"Mathematics Solvers"  
            font_name:"font02.ttf"
            size_hint_y:None
            font_size:40
            color:[240/255,29/255,0,.8]       
            canvas.before:
              Color:
                rgba:  1,1,1,1
              Rectangle:
                pos: self.pos
                size: self.size

          NButton:
            text:"Normal Calculator"
            on_release:
              app.change_screen('normal')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Scientific Calculator"
            on_release:
              app.change_screen('scientific')
              nav_drawer.set_state("close") 
              app.help()     
          NButton:
            text:"LCM and GCD"
            on_release:
              app.set_current_screen('lcm')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"HCF Calculator"
            on_release:
              app.set_current_screen('hcf')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Fraction Calculator"
            on_release:
              app.set_current_screen('fraction')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Compare 2 Fractions"
            on_release:
              app.set_current_screen('comp_fraction')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Matrix Calculator"
            on_release:
              app.set_current_screen('matrix')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Matrix Type Finder"
            on_release:
              app.set_current_screen('type_matrix')
              nav_drawer.set_state("close")
              app.help()
          Label:
            text:"Measurements"  
            font_name:"font02.ttf"
            size_hint_y:None
            font_size:40
            color:[240/255,29/255,0,.8]       
            canvas.before:
              Color:
                rgba:  1,1,1,1
              Rectangle:
                pos: self.pos
                size: self.size

          NButton:
            text:"Perimeter of 2D Objects"
            on_release:
              app.set_current_screen('peri_2d')
              nav_drawer.set_state("close") 
              app.help() 
          NButton:
            text:"Area of 2D Objects"
            on_release:
              app.set_current_screen('area_2d')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Surface Area of 3D Objects"
            on_release:
              app.set_current_screen('area_3d')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Volume of 3D Objects"
            on_release:
              app.set_current_screen('vol_3d')
              nav_drawer.set_state("close") 
              app.help()   
          NButton:
            text:"Unit Converter"
            on_release:
              app.set_current_screen('conversion')
              nav_drawer.set_state("close")
              app.help()
          Label:
            text:"Day to Day Math"  
            font_name:"font02.ttf"
            size_hint_y:None
            font_size:40
            color:[240/255,29/255,0,.8]       
            canvas.before:
              Color:
                rgba:  1,1,1,1
              Rectangle:
                pos: self.pos
                size: self.size
          NButton:
            text:"Percentage Calculator"
            on_release:
              app.set_current_screen('percentage')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Percentage to Part"
            on_release:
              app.set_current_screen('tax')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Simple & Compound Interest"
            on_release:
              app.set_current_screen('si')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"BMI Calculator"
            on_release:
              app.set_current_screen('bmi')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Ratio Calculator"
            on_release:
              app.set_current_screen('ratio')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Age Finder"
            on_release:
              app.set_current_screen('age')
              nav_drawer.set_state("close")
              app.help()
          Label:
            text:"Fun"  
            font_name:"font02.ttf"
            size_hint_y:None
            font_size:40
            color:[240/255,29/255,0,.8]       
            canvas.before:
              Color:
                rgba:  1,1,1,1
              Rectangle:
                pos: self.pos
                size: self.size
          NButton:
            text:"Sudoku Puzzle Solver"
            on_release:
              app.set_current_screen('sudoku')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"Flames"
            on_release:
              app.set_current_screen('flames')
              nav_drawer.set_state("close")
              app.help()
          NButton:
            text:"X O Game"
            on_release:
              app.set_current_screen("xo")
              nav_drawer.set_state("close")
              app.help()

          
             
#History of normal calculator( navigation drawer) 
    MDNavigationDrawer:
      id: history1
      radius: (0, 16, 16, 0)
      BoxLayout:
        orientation:'vertical'          
        spacing:10
        canvas.before:
          Color:
            rgba: 0,0,0,1
          Rectangle:
            pos: self.pos
            size: self.size
        Label:
          text:"HISTORY" 
          font_name:"font02.ttf"
          size_hint_y: None
          font_size:50
          color:[240/255,29/255,0,.8]      
          canvas.before:
            Color:
              rgba:  1,1,1,1
            Rectangle:
              pos: self.pos
              size: self.size
        MDFillRoundFlatButton:
          text:"Clear all"
          bold:True
          size_hint_y: None
          md_bg_color: .8, 0, 0, 1
          on_press:app.history1_clear()
        ScrollView:
          do_scroll_x: False
          do_scroll_y: True

          BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing:5
            padding:20
            Label:
              size_hint_y: None
              height: self.texture_size[1]
              text_size: self.width, None
              text:"no history"
              id:cal_his
              font_size:45
                

#History of scientific calculator( navigation drawer) 
    MDNavigationDrawer:
      id: history2
      radius: (0, 16, 16, 0)
      BoxLayout:
        orientation:'vertical'          
        spacing:10
        canvas.before:
          Color:
            rgba: 0,0,0,1
          Rectangle:
            pos: self.pos
            size: self.size
        Label:
          text:"HISTORY" 
          font_name:"font02.ttf"
          size_hint_y: None
          font_size:50
          color:[240/255,29/255,0,.8]     
          canvas.before:
            Color:
              rgba:  1,1,1,1
            Rectangle:
              pos: self.pos
              size: self.size
        MDFillRoundFlatButton:
          text:"Clear all"
          bold:True
          size_hint_y: None
          md_bg_color: .8, 0, 0, 1
          on_press:app.history2_clear()
        ScrollView:
          do_scroll_x: False
          do_scroll_y: True

          BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing:5
            padding:20
            Label:
              size_hint_y: None
              height: self.texture_size[1]
              text_size: self.width, None
              text:"no history"
              id:sci_his
              font_size:45

#Help
    MDNavigationDrawer:
      anchor: "right"
      id: help_screen
      radius: (16, 0, 0, 16)
      BoxLayout:
        orientation:'vertical'
        spacing:5
        canvas.before:
          Color:
            rgba: 0,0,0,1
          Rectangle:
            pos: self.pos
            size: self.size
        Label:
          text:"Help!" 
          font_name:"font02.ttf"
          size_hint_y: None
          font_size:50
          color:[240/255,29/255,0,.8]     
          canvas.before:
            Color:
              rgba:  1,1,1,1
            Rectangle:
              pos: self.pos
              size: self.size
        ScrollView:
          do_scroll_x: False
          do_scroll_y: True

          BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing:5
            padding:20
            Label:
              size_hint_y: None
              height: self.texture_size[1]
              italic:True
              text_size: self.width, None
              text:"        1) Click the textbox to text the calculations on your mobile default keyboard.\n\n        2) Click the clock button to see the history, before you calculated."
              id:help_text
              font_size:45               